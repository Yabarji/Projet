<header>
  <h2 class="text-center">FORMULAIRE
    <small class="lead text-info">template Driven form</small>
  </h2>
</header>

<hr />

<section class="row">
  <aside class="col-4">

    <div class="list-group">
      <a class="list-group-item" *ngFor="let product of products">
        {{ product.name}} @ {{product.price | currency: 'EUR': 'symbol-narrow' }}
      </a>
    </div>
  </aside>
  <article class="col-8">

    <form (submit)="addProduct();spyForm.reset()" #spyForm="ngForm">

      <div class="form-group row">
        <label class="col-2 col-form-label">Name:</label>
        <div class="col-10">
          <input type="text" name="name" class="form-control" placeholder="Name ..." [(ngModel)]="product.name"
                 required #spyName="ngModel"
                 [ngClass]="{'is-invalid': spyName.invalid && spyName.touched , 'is-valid': spyName.valid}" />
          <p class="invalid-feedback" [hidden]="spyName.valid || spyName.untouched">
            Name required
          </p>
        </div>

      </div>
<!-- --------------------------------------------------------------------------------------- -->
      <div class="form-group row">
        <label class="col-2 col-form-label">Price:</label>
        <div class="col-10">
          <input type="text" name="price" class="form-control" placeholder="price ..." [(ngModel)]="product.price"
                 pattern="[0-9]+(\.[0-9]+)?"
                 required #spyPrice="ngModel"
                 [ngClass]="{'is-invalid': spyPrice.invalid && spyPrice.touched  , 'is-valid': spyPrice.valid}" />
          <p class="invalid-feedback"
            *ngIf="spyPrice.errors?.required">
            Price required
          </p>
          <p class="invalid-feedback"
             *ngIf="spyPrice.errors?.pattern">
           Invalid Format !
          </p>
        </div>

      </div>

      <!-- --------------------------------------------------------------------------------------- -->
      <div class="form-group row">

        <div class="col-10">
          <input type="submit" name="envoyer" class="btn btn-outline-primary" value="Ajouter"  [disabled]="spyForm.invalid"   />
        </div>

      </div>



    </form>

  </article>

</section>
